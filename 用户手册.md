# TidyFile 用户手册

## 📖 简介

TidyFile 是一个智能文件整理工具，使用AI技术帮您自动分类文件、生成摘要，让文件管理变得简单高效。

## 🚀 快速开始

### 启动程序

**推荐方式**：
- 双击 `启动文件整理器_新版本.bat` 启动主程序
- 双击 `启动局域网服务器.bat` 启动文章阅读助手

### 首次使用

1. **准备AI模型**：
   - 确保已安装Ollama服务
   - 下载模型：`ollama pull qwen3:4b`

2. **选择功能**：
   - AI智能分类：自动分类文件
   - 文件解读：生成文件摘要
   - 文章阅读助手：浏览处理结果
   - 微信文章：管理微信收藏
   - 重复文件：清理重复文件

## 🎯 功能使用

### 1. AI智能分类

**用途**：自动分析文件内容并分类到合适文件夹

**操作步骤**：
1. 选择"AI智能分类"标签页
2. 设置源文件夹（要分类的文件所在位置）
3. 设置目标文件夹（分类后的存储位置）
4. 调整参数：
   - 摘要长度：100-500字符
   - 内容截取：1000-5000字符
5. 点击"开始分类"

**支持格式**：PDF、Word、TXT、图片、代码文件等

### 2. 文件解读

**用途**：批量生成文件内容摘要

**操作步骤**：
1. 选择"文件解读"标签页
2. 选择要解读的文件夹
3. 设置摘要长度和内容截取
4. 选择处理模式：
   - 单线程：适合少量文件
   - 多线程：适合大量文件
5. 点击"开始解读"

**结果查看**：处理完成后，可通过文章阅读助手查看结果

### 3. 文章阅读助手

**用途**：浏览和管理已处理的文件

**使用方法**：
1. 启动文章阅读助手服务器
2. 在浏览器中访问显示的地址
3. 浏览文件列表，支持搜索和筛选
4. 点击文件进行预览或下载

**特色功能**：
- 支持局域网访问，手机平板可用
- 智能文件打开/下载
- 标签筛选和搜索
- 移动端友好界面

### 4. 微信文章管理

**用途**：管理微信收藏的文章

**操作步骤**：
1. 选择"微信文章"标签页
2. 导入微信文章文件（JSON格式）
3. 生成AI摘要
4. 管理文章分类和标签

### 5. 重复文件清理

**用途**：检测和删除重复文件

**操作步骤**：
1. 选择"重复文件清理"标签页
2. 选择要检查的文件夹
3. 设置检测参数
4. 查看结果并选择要删除的文件
5. 确认删除操作

## 📱 移动端使用

### 文章阅读助手

1. **启动服务器**：双击 `启动局域网服务器.bat`
2. **获取地址**：记下显示的局域网地址
3. **手机访问**：在手机浏览器中输入地址
4. **浏览文件**：支持搜索、筛选、预览
5. **下载文件**：点击文件自动下载到手机

### 特色功能

- **智能预览**：PDF、图片、视频等可直接预览
- **自动下载**：无法预览的文件自动下载
- **响应式设计**：适配各种屏幕尺寸
- **离线缓存**：支持离线浏览已加载内容

## ⚙️ 配置说明

### AI模型配置

**文件位置**：`ai_models_config.json`

**默认配置**：
```json
{
  "models": [
    {
      "id": "ollama-local",
      "name": "本地Ollama模型",
      "base_url": "http://localhost:11434",
      "model_name": "qwen3:4b",
      "enabled": true
    }
  ]
}
```

### 分类规则配置

**文件位置**：`classification_rules.json`

**添加自定义规则**：
```json
{
  "rules": [
    {
      "name": "工作文档",
      "keywords": ["工作", "项目", "报告"],
      "target_folder": "工作文档"
    }
  ]
}
```

## 📊 结果管理

### 处理结果

**主要文件**：
- `ai_organize_result.json`：AI处理结果
- `logs/`：系统日志
- `transfer_logs/`：文件操作记录

### 查看结果

1. **通过文章阅读助手**（推荐）：
   - 启动文章阅读助手
   - 在浏览器中浏览结果
   - 支持搜索、筛选、预览

2. **直接查看文件**：
   - 打开 `ai_organize_result.json`
   - 查看JSON格式的处理结果

## 🔧 常见问题

### 启动问题

**Q: 程序无法启动？**
A: 检查Python环境，确保已安装依赖包

**Q: AI模型无法连接？**
A: 确保Ollama服务已启动，模型已下载

### 使用问题

**Q: 文件处理失败？**
A: 检查文件权限，确认格式支持

**Q: 局域网访问失败？**
A: 检查防火墙设置，确认IP地址正确

**Q: 移动端无法访问？**
A: 确保手机和电脑在同一局域网

### 性能问题

**Q: 处理速度慢？**
A: 使用多线程模式，减少内容截取长度

**Q: 内存占用高？**
A: 分批处理文件，关闭其他程序

## 📞 技术支持

### 获取帮助

- **查看日志**：检查 `logs/` 目录下的日志文件
- **重启程序**：关闭程序重新启动
- **检查配置**：确认配置文件正确
- **更新依赖**：确保使用最新版本

### 诊断工具

系统提供多个诊断工具：
- `ollama诊断工具.py`：检查AI服务
- `测试AI调用.py`：测试AI功能
- `测试文件解读.py`：测试文件处理

---

**版本**：2.0.0  
**更新时间**：2025-07-28  
**适用系统**：Windows 10/11